(function(t){function e(e){for(var n,s,i=e[0],c=e[1],u=e[2],p=0,m=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"1c7b":function(t,e,r){"use strict";var n=r("4747"),a=r.n(n);a.a},"22d7":function(t,e,r){"use strict";var n=r("be87"),a=r.n(n);a.a},"25d6":function(t,e,r){"use strict";var n=r("a707"),a=r.n(n);a.a},3983:function(t,e,r){"use strict";var n=r("8857"),a=r.n(n);a.a},4747:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("navbar"),r("notifier"),r("router-view")],1)},o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-default"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"navbar-header"},[r("router-link",{staticClass:"navbar-brand",attrs:{"active-class":"active",to:"/home"}},[r("span",{staticClass:"glyphicon glyphicon-home",attrs:{"aria-hidden":"true"}}),t._v(" My Hobbies ")])],1),r("ul",{staticClass:"nav navbar-nav"},[r("router-link",{attrs:{tag:"li","active-class":"active",to:"/people"}},[r("a",[r("span",{staticClass:"glyphicon glyphicon-globe",attrs:{"aria-hidden":"true"}}),t._v(" People ")])])],1),t.isLoggedIn?t._m(0):t._e(),r("p",{staticClass:"navbar-text"},[r("b",{staticClass:"status"},[t._v(t._s(t.status))])]),t.isLoggedIn?t._e():r("ul",{staticClass:"nav navbar-nav navbar-right"},[r("router-link",{attrs:{tag:"li","active-class":"active",to:"/login"}},[r("a",[r("span",{staticClass:"glyphicon glyphicon-log-in",attrs:{"aria-hidden":"true"}}),t._v(" Log in ")])]),r("router-link",{attrs:{tag:"li","active-class":"active",to:"/register"}},[r("a",[r("span",{staticClass:"glyphicon glyphicon-user",attrs:{"aria-hidden":"true"}}),t._v(" Sign up ")])])],1),t.isLoggedIn?r("ul",{staticClass:"nav navbar-nav navbar-right"},[r("li",[r("a",[r("span",{staticClass:"glyphicon glyphicon-user",attrs:{"aria-hidden":"true"}}),t._v(" Logged in as "),r("b",{staticClass:"status"},[t._v(t._s(t.currentUser.name))])])]),r("li",[r("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[r("span",{staticClass:"glyphicon glyphicon-log-out",attrs:{"aria-hidden":"true"}}),t._v(" Log out ")])])]):t._e()],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("dropdown-menu",{attrs:{header:"Personal",icon:"glyphicon-sunglasses",content:t.personal}})}],c=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),u=r("2f62"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav navbar-nav"},[r("li",{class:{active:t.isGroupActive}},[r("a",{ref:"invoker",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isVisible=!t.isVisible}}},[r("span",{staticClass:"glyphicon",class:[t.icon],attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.header)+" "),r("span",{staticClass:"caret"})]),r("ul",{class:[t.isVisible?"dropdown-menu":"drop-hide"]},t._l(t.content,(function(e){return r("router-link",{key:e.title,attrs:{tag:"li","active-class":"active",to:e.path}},[r("a",[r("span",{staticClass:"glyphicon",class:[e.icon],attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.title)+" ")])])})),1)])])},p=[],m={methods:{hide:function(t){var e=t.target,r=this.$refs.invoker;r===e||r.contains(e)||(this.isVisible=!1)}},mounted:function(){document.body.addEventListener("click",this.hide)},beforeDestroy:function(){document.body.removeEventListener("click",this.hide)},props:["content","header","icon"],computed:{isGroupActive:function(){var t=this;return this.$props.content.reduce((function(e,r){var n=r.path;return e||-1!==t.$route.path.indexOf(n)}),!1)}},data:function(){return{isVisible:!1}}},d=m,f=(r("9953"),r("2877")),v=Object(f["a"])(d,l,p,!1,null,"3be1bf74",null),h=v.exports;function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y={components:{DropdownMenu:h},data:function(){return{personal:[{title:"My books",path:"/books",icon:"glyphicon-book"},{title:"My movies",path:"/movies",icon:"glyphicon-film"},{title:"My settings",path:"/profile",icon:"glyphicon-cog"}]}},computed:g({},Object(u["c"])("auth",["isLoggedIn","currentUser"]),{},Object(u["c"])("notification",["status"])),methods:g({},Object(u["d"])("notification",["notify"]),{},Object(u["d"])("items",["clear"]),{logout:function(){this.$store.dispatch("auth/logout"),this.clear("books"),this.clear("movies"),this.notify({msg:"You have been logged out.",type:"info"}),this.$router.push("/home")}})},w=y,O=(r("5858"),Object(f["a"])(w,s,i,!1,null,"262ff12d",null)),_=O.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.message?r("div",{staticClass:"alert",class:[t.alertClass]},[r("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.remove}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._v(" "+t._s(t.message)+" ")]):t._e()},C=[];function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P={computed:$({},Object(u["c"])("notification",["message","alertClass"])),methods:$({},Object(u["d"])("notification",["remove"]))},x=P,S=Object(f["a"])(x,j,C,!1,null,null,null),D=S.exports,E={components:{Navbar:_,Notifier:D}},R=E,M=(r("034f"),Object(f["a"])(R,a,o,!1,null,null,null)),I=M.exports,N=r("8c4f"),A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"panel panel-default"},[r("div",{staticClass:"panel-body"},[r("p",[r("b",[t._v("MY HOBBIES")]),t._v(" is an "),r("a",{attrs:{href:"https://github.com/iurii-kyrylenko/hobbies",target:"_blank"}},[t._v("open-source project")]),t._v(" for keeping track of books you have read/listened and movies you have watched. ")]),r("p",[t._v(" After logging in you are able to: ")]),r("ul",[r("li",[t._v("Add an item (book or movie) to the list.")]),r("li",[t._v("Modify an existing item.")]),r("li",[t._v("Remove an item.")]),r("li",[t._v("Perform search for specific item(s).")]),r("li",[t._v("Download items as a file in JSON format.")]),r("li",[t._v("Upload items from JSON file.")])]),r("p",[t._v(" Also you have the possibilities to: ")]),r("ul",[r("li",[t._v("Share data with other people.")]),r("li",[t._v("Change you personal settings.")])]),r("p",[t._v(" Unathorized people can see and download the shared data. ")]),r("hr"),r("b",[t._v("Change log")]),r("p",[r("ul",[r("li",[t._v(" Sep 22, 2020: Migrate database from "),r("a",{attrs:{href:"https://mlab.com",target:"_blank"}},[t._v("mLab")]),t._v(" to "),r("a",{attrs:{href:"https://www.mongodb.com/cloud/atlas",target:"_blank"}},[t._v("MongoDB Atlas")]),t._v(". ")]),r("li",[t._v(" Sep 15, 2019: Handle errors from TMDb API. Update dependencies. ")]),r("li",[t._v(" Nov 4, 2018: Filter out people without hobbies. ")]),r("li",[t._v(" Nov 3, 2018: Update to latest versions of Vue.js and other libraries. ")]),r("li",[t._v(" May 25, 2017: Change movie info service from "),r("a",{attrs:{href:"http://www.omdbapi.com/",target:"_blank"}},[t._v("OMDb")]),t._v(" to "),r("a",{attrs:{href:"https://www.themoviedb.org/",target:"_blank"}},[t._v("TMDb")]),t._v(". ")]),r("li",[t._v(" Apr 24, 2017: Wire up the "),r("a",{attrs:{href:"http://www.omdbapi.com/",target:"_blank"}},[t._v("OMDb")]),t._v(" api service to obtain the movie info. ")])])])])])}],B={},T=Object(f["a"])(B,A,U,!1,null,null,null),F=T.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.name.$error}},[r("label",{staticClass:"control-label",attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"User name"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value.trim())},function(e){return t.$v.name.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.name.$error,expression:"$v.name.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgName))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.email.$error}},[r("label",{staticClass:"control-label",attrs:{for:"email"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"email",type:"text",placeholder:"Email address"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value.trim())},function(e){return t.$v.email.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.email.$error,expression:"$v.email.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgEmail))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.password.$error}},[r("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},function(e){return t.$v.password.$touch()}]}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.password.$error,expression:"$v.password.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgPassword))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.confirmation.$error}},[r("label",{staticClass:"control-label",attrs:{for:"confirmation"}},[t._v("Confirmation")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],staticClass:"form-control",attrs:{id:"confirmation",type:"password",placeholder:"Password confirmation"},domProps:{value:t.confirmation},on:{input:[function(e){e.target.composing||(t.confirmation=e.target.value)},function(e){return t.$v.confirmation.$touch()}]}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.confirmation.$error,expression:"$v.confirmation.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgConfirmation))])]),r("div",{staticClass:"form-group"},[r("re-captcha",{attrs:{siteKey:t.reCaptchaSiteKey},on:{captchaResponse:t.getCaptchaResponse}})],1),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v(" Sign up ")])])])])},L=[],Y=(r("96cf"),r("3b8d")),H=(r("7f7f"),r("b5ae")),z=[{rule:H["required"],msg:"Name is required"},{rule:function(t){var e=/^[A-Za-z_][A-Za-z0-9_-]{4,}$/;return e.test(t)},msg:"Name requires at least 5 letters or digits and begins with letter"}],J=[{rule:H["required"],msg:"Email address is required"},{rule:H["email"],msg:"Invalid email address"}],K=[{rule:H["required"],msg:"Password is required"},{rule:function(t){var e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\S{8,}$/;return e.test(t)},msg:"Password requires at least 8 characters without spaces, one number, one lowercase and one uppercase letter"}],V=[{rule:H["required"],msg:"Confirmation is required"},{rule:Object(H["sameAs"])("password"),msg:"Password mismatch"}],Z=[{rule:H["required"],msg:"Book title is required"}],G=[{rule:H["required"],msg:"Author is required"}],Q=[{rule:H["required"],msg:"Book type is required"}],W=[{rule:H["required"],msg:"Movie title is required"}],X=[{rule:H["required"],msg:"Year is required"}],tt=[{rule:H["required"]}],et=function(t){return t.reduce((function(t,e,r){return t[r]=e.rule,t}),{})},rt=function(t,e){for(var r=0;r<e.length;r++)if(!t[r])return e[r].msg},nt={vrules:et,vmsg:rt},at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"g-recaptcha",attrs:{"data-sitekey":t.siteKey,"data-callback":"verifyCallback"}})},ot=[],st={props:["siteKey"],mounted:function(){var t=this;window["verifyCallback"]=function(e){t.$emit("captchaResponse",e)};var e=document.body,r=document.createElement("script");r.innerHTML="",r.src="https://www.google.com/recaptcha/api.js",r.async=!0,r.defer=!0,e.appendChild(r)}},it=st,ct=Object(f["a"])(it,at,ot,!1,null,null,null),ut=ct.exports,lt={get apiUrl(){return"/api"},get reCaptchaSiteKey(){return"6LeUuSUTAAAAAElwIcAHk994ErqNeqw7aQxlsw_H"}};function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var dt=function(t){var e=t.name,r=t.email,n=t.password,a=t.captchaResponse;return{name:e,email:r,password:n,captchaResponse:a}},ft={components:{ReCaptcha:ut},data:function(){return{name:"",email:"",password:"",captchaResponse:"",confirmation:"",reCaptchaSiteKey:lt.reCaptchaSiteKey}},validations:{name:nt.vrules(z),email:nt.vrules(J),password:nt.vrules(K),confirmation:nt.vrules(V)},computed:{vmsgName:function(){return nt.vmsg(this.$v.name,z)},vmsgEmail:function(){return nt.vmsg(this.$v.email,J)},vmsgPassword:function(){return nt.vmsg(this.$v.password,K)},vmsgConfirmation:function(){return nt.vmsg(this.$v.confirmation,V)}},methods:mt({},Object(u["d"])("notification",["notify"]),{getCaptchaResponse:function(t){this.captchaResponse=t},reset:function(){window["grecaptcha"].reset(),this.captchaResponse=""},validateBeforeSubmit:function(){this.$v.$touch(),!this.$v.$invalid&&this.captchaResponse&&this.submitForm()},submitForm:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("auth/register",dt(this.$data));case 3:this.notify({msg:"You have been registered and logged in.",type:"info"}),this.$router.push("/home"),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),this.reset(),this.notify({msg:"You have failed to register. Try again with another name/email address.",type:"danger"});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()})},vt=ft,ht=Object(f["a"])(vt,q,L,!1,null,null,null),bt=ht.exports,gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.name.$error}},[r("label",{staticClass:"control-label",attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"User name"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value.trim())},function(e){return t.$v.name.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.name.$error,expression:"$v.name.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgName))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.password.$error}},[r("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},function(e){return t.$v.password.$touch()}]}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.password.$error,expression:"$v.password.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgPassword))])]),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v(" Log in ")])])])])},yt=[];function wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var _t={data:function(){return{name:"",password:""}},validations:{name:nt.vrules(z),password:nt.vrules(K)},computed:{vmsgName:function(){return nt.vmsg(this.$v.name,z)},vmsgPassword:function(){return nt.vmsg(this.$v.password,K)}},methods:Ot({},Object(u["d"])("notification",["notify"]),{validateBeforeSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.submitForm()},submitForm:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("auth/login",Ot({},this.$data));case 3:this.notify({msg:"You have been looged in.",type:"info"}),this.$router.push("/home"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notify({msg:"You have failed to log in. Try again with another credentials.",type:"danger"});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()})},jt=_t,Ct=Object(f["a"])(jt,gt,yt,!1,null,null,null),kt=Ct.exports,$t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submitSettings(e)}}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"checkbox form-control"},[r("label",[r("input",{ref:"shareBooks",attrs:{type:"checkbox"},domProps:{checked:t.settings.shareBooks}}),t._v(" Share my books ")])])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"checkbox form-control"},[r("label",[r("input",{ref:"shareMovies",attrs:{type:"checkbox"},domProps:{checked:t.settings.shareMovies}}),t._v(" Share my movies ")])])]),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Submit")])])])])},Pt=[];function xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Dt={methods:St({},Object(u["d"])("notification",["setStatus","notify"]),{},Object(u["b"])("users",["getSettings","saveSettings"]),{submitSettings:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.saveSettings({shareBooks:this.$refs.shareBooks.checked,shareMovies:this.$refs.shareMovies.checked});case 3:this.notify({msg:"Your settings have been saved :)",type:"info"}),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),this.notify({msg:"Something went wrong when saving settings :(",type:"danger"}),this.getSettings();case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()}),computed:St({},Object(u["c"])("users",["settings"])),mounted:function(){this.setStatus("My settings"),this.getSettings()},beforeDestroy:function(){this.setStatus("")}},Et=Dt,Rt=Object(f["a"])(Et,$t,Pt,!1,null,null,null),Mt=Rt.exports,It=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},Nt=[],At={},Ut=Object(f["a"])(At,It,Nt,!1,null,null,null),Bt=Ut.exports,Tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"my-search input-group"},[r("input",{ref:"search",staticClass:"form-control",attrs:{type:"text",placeholder:"Search people"},domProps:{value:t.filter},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applySearch(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearSearch(e)}]}}),r("div",{staticClass:"input-group-btn"},[r("a",{staticClass:"btn btn-default",attrs:{title:"Apply Search Filter"},on:{click:t.applySearch}},[r("i",{staticClass:"glyphicon glyphicon-search"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Clear Search Filter"},on:{click:t.clearSearch}},[r("i",{staticClass:"glyphicon glyphicon-remove-sign"})])])]),t.users.length?r("div",{staticClass:"panel panel-default"},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[r("tbody",t._l(t.users,(function(e){return r("tr",{key:e._id},[r("td",[r("i",{staticClass:"glyphicon glyphicon-user"}),t._v(" "+t._s(e.name+" ["+e.total+"]")+" ")]),r("td",[e.shareBooks?r("router-link",{attrs:{to:e.tob,append:""}},[r("i",{staticClass:"glyphicon glyphicon-book"}),t._v(" "+t._s(e.name+"'s books ["+e.books+"]")+" ")]):t._e()],1),r("td",[e.shareMovies?r("router-link",{attrs:{to:e.tom,append:""}},[r("i",{staticClass:"glyphicon glyphicon-film"}),t._v(" "+t._s(e.name+"'s movies ["+e.movies+"]")+" ")]):t._e()],1)])})),0)])])]):t._e(),r("pager",{attrs:{frame:8,pageCount:t.pageCount,page:t.page},on:{change:t.changePage}})],1)])},Ft=[],qt=(r("386d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pageCount?r("ul",{staticClass:"pagination"},[t.page>1?r("li",[r("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.previous(e)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Â«")])])]):t._e(),t._l(t.pages,(function(e){return r("li",{key:e,class:{active:e==t.page}},[r("a",{attrs:{href:""},on:{click:function(r){return r.preventDefault(),t.select(e)}}},[t._v(t._s(e))])])})),t.page<t.pageCount?r("li",[r("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.next(e)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Â»")])])]):t._e()],2):t._e()}),Lt=[],Yt=(r("c5f6"),{props:{frame:{type:Number,default:10},page:Number,pageCount:Number},methods:{getPagerLimits:function(t,e){if(t<=this.frame)return{min:1,max:t};var r=Math.floor(this.frame/2),n=t-r+1,a=1;r<e&&e<n&&(a=e-r),e>=n&&(a=n-r);var o=a+this.frame-1;return{min:a,max:o}},select:function(t){this.$emit("change",t)},previous:function(){this.$emit("change",this.page-1)},next:function(){this.$emit("change",this.page+1)}},computed:{pages:function(){for(var t=this.getPagerLimits(this.pageCount,this.page),e=t.min,r=t.max,n=[],a=e;a<=r;a++)n.push(a);return n}}}),Ht=Yt,zt=(r("3983"),Object(f["a"])(Ht,qt,Lt,!1,null,"a9b50c18",null)),Jt=zt.exports;function Kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Zt={components:{Pager:Jt},computed:Vt({},Object(u["c"])("users",["users","pageCount","page","filter"])),methods:Vt({},Object(u["b"])("users",["getUsers","changePage","applyFilter"]),{applySearch:function(){this.applyFilter(this.$refs.search.value.trim())},clearSearch:function(){this.applyFilter("")}}),mounted:function(){this.getUsers()}},Gt=Zt,Qt=(r("1c7b"),Object(f["a"])(Gt,Tt,Ft,!1,null,"048db6a0",null)),Wt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("item-list",{ref:"itemList",attrs:{searchPlaceholder:"Search for book title or author",addPrompt:"Add Book",removeHeader:"Removing Book",downloadPrompt:"Download Books",uploadPrompt:"Upload Books"}},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[r("thead",[r("tr",[t.my?r("th",{staticStyle:{width:"10%"}}):t._e(),r("th",{staticStyle:{width:"15%"}},[t._v("Completed")]),r("th",{staticStyle:{width:"8%"}},[t._v("Kind")]),r("th",{staticStyle:{width:"25%"}},[t._v("Author")]),r("th",[t._v("Title")])])]),r("tbody",t._l(t.items,(function(e){return r("tr",{key:e._id},[t.my?r("td",[r("div",{staticClass:"input-group-btn"},[r("router-link",{staticClass:"btn btn-default",attrs:{to:e._id,append:"",title:"Edit Book"}},[r("i",{staticClass:"glyphicon glyphicon-pencil"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Remove Book"},on:{click:function(r){return t.remove(e)}}},[r("i",{staticClass:"glyphicon glyphicon-remove"})])],1)]):t._e(),r("td",[t._v(t._s(t._f("date")(e.completed)))]),r("td",[t._v(t._s(e.mode))]),r("td",[t._v(t._s(e.author))]),r("td",[t._v(t._s(e.title))])])})),0)])])])],1)},te=[],ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("modal",{ref:"deleteConfirm",on:{close:t.closeConfirm}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("h4",[t._v(t._s(t.removeHeader))])]),r("div",{attrs:{slot:"body"},slot:"body"},[t._v(" Are you sure you want to remove "),r("span",{staticClass:"badge"},[t._v(t._s(t.itemTitle))]),t._v("? ")])]),r("div",{staticClass:"my-search input-group"},[r("input",{ref:"search",staticClass:"form-control",attrs:{type:"text",placeholder:t.searchPlaceholder},domProps:{value:t.filter},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applySearch(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearSearch(e)}]}}),r("div",{staticClass:"input-group-btn"},[r("a",{staticClass:"btn btn-default",attrs:{title:"Apply Search Filter"},on:{click:t.applySearch}},[r("i",{staticClass:"glyphicon glyphicon-search"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Clear Search Filter"},on:{click:t.clearSearch}},[r("i",{staticClass:"glyphicon glyphicon-remove-sign"})]),t.my?r("router-link",{staticClass:"btn btn-default",attrs:{to:"new",append:"",title:t.addPrompt}},[r("i",{staticClass:"glyphicon glyphicon-plus"})]):t._e(),r("a",{staticClass:"btn btn-default",attrs:{title:t.downloadPrompt},on:{click:t.download}},[r("i",{staticClass:"glyphicon glyphicon-download"})]),t.my?r("label",{staticClass:"btn btn-default",attrs:{for:"file",title:t.uploadPrompt}},[r("i",{staticClass:"glyphicon glyphicon-upload"})]):t._e()],1)]),r("form",{ref:"uploadForm"},[r("input",{attrs:{type:"file",id:"file"},on:{change:t.uploadChange}})]),r("div",{staticClass:"panel panel-default"},[t._t("default")],2),r("pager",{attrs:{frame:8,pageCount:t.pageCount,page:t.page},on:{change:t.changePage}})],1)},re=[],ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"modal"}},[t.showModal?r("div",{staticClass:"modal-mask",attrs:{tabindex:"-1"},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(!1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.close(!0)}]}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("button",{staticClass:"close",on:{click:function(e){return t.close(!1)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._t("header")],2),r("div",{staticClass:"modal-body"},[t._t("body")],2),r("div",{staticClass:"modal-footer"},[t._t("footer",[r("button",{staticClass:"btn btn-default",on:{click:function(e){return t.close(!0)}}},[t._v("Yes")]),r("button",{staticClass:"btn btn-default",on:{click:function(e){return t.close(!1)}}},[t._v("No")])])],2)])])]):t._e()])},ae=[],oe={data:function(){return{showModal:!1}},methods:{open:function(){var t=this;this.showModal=!0,this.$nextTick((function(){return t.$el.focus()}))},close:function(t){this.showModal=!1,this.$emit("close",t)}}},se=oe,ie=(r("22d7"),Object(f["a"])(se,ne,ae,!1,null,null,null)),ce=ie.exports;function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var pe={components:{Pager:Jt,Modal:ce},props:["searchPlaceholder","addPrompt","removeHeader","downloadPrompt","uploadPrompt"],data:function(){return{itemId:"",itemTitle:""}},computed:le({},Object(u["c"])("items",["my","pageCount","page","filter"])),methods:le({},Object(u["b"])("items",["getItems","changePage","applyFilter","download","upload","delete"]),{},Object(u["d"])("notification",["notify"]),{},Object(u["d"])("items",["clear"]),{applySearch:function(){this.applyFilter(this.$refs.search.value.trim())},clearSearch:function(){this.applyFilter("")},uploadChange:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.target.files,r.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,this.upload(r[0]);case 6:this.notify({msg:"Items have been uploaded :)",type:"info"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),this.notify({msg:"Something went wrong when uploading items :(",type:"danger"});case 12:return t.prev=12,this.$refs.uploadForm.reset(),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[3,9,12,15]])})));function e(e){return t.apply(this,arguments)}return e}(),openConfirm:function(t){var e=t._id,r=t.title;this.itemId=e,this.itemTitle=r,this.$refs.deleteConfirm.open()},closeConfirm:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.delete(this.itemId);case 5:this.notify({msg:"An item has been removed :)",type:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),this.notify({msg:"Something went wrong when removing an item :(",type:"danger"});case 11:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}()}),mounted:function(){this.my||this.clear("shared"),this.getItems()}},me=pe,de=(r("25d6"),Object(f["a"])(me,ee,re,!1,null,null,null)),fe=de.exports;function ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var be={props:["uid","name"],components:{ItemList:fe},computed:he({},Object(u["c"])("items",["my","items"])),methods:he({},Object(u["d"])("items",["select"]),{},Object(u["d"])("notification",["setStatus"]),{remove:function(t){this.$refs.itemList.openConfirm(t)}}),created:function(){this.select({hobby:"books",uid:this.uid})},mounted:function(){var t=this.my?"My books":"".concat(this.name,"'s books");this.setStatus(t)},beforeDestroy:function(){this.setStatus("")}},ge=be,ye=Object(f["a"])(ge,Xt,te,!1,null,null,null),we=ye.exports,Oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("modal",{ref:"info"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("h4",[t._v(t._s(t.movieTitle))])]),r("div",{attrs:{slot:"body"},slot:"body"},[t.movieProgress?r("div",[t._v("Loading...")]):t.movieError?r("div",[t._v(t._s(t.movieError))]):r("div",{staticClass:"container-fluid movie-info"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-5"},[r("img",{attrs:{src:t.movieInfo.posterUrl}})]),r("div",{staticClass:"col-sm-7"},[t._v(t._s(t.movieInfo.plot))])])])]),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn btn-default",on:{click:t.closeInfo}},[t._v("OK")])])]),r("item-list",{ref:"itemList",attrs:{searchPlaceholder:"Search for movie title, year of production or notes",addPrompt:"Add Movie",removeHeader:"Removing Movie",downloadPrompt:"Download Movies",uploadPrompt:"Upload Movies"}},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-striped"},[r("thead",[r("tr",[r("th",{staticStyle:{width:"10%"}}),r("th",{staticStyle:{width:"15%"}},[t._v("Completed")]),r("th",{staticStyle:{width:"10%"}},[t._v("Year")]),r("th",{staticStyle:{width:"40%"}},[t._v("Title")]),r("th",[t._v("Notes")])])]),r("tbody",t._l(t.items,(function(e){return r("tr",{key:e._id},[r("td",[r("div",{staticClass:"input-group-btn"},[r("a",{staticClass:"btn btn-default",attrs:{title:"Movie Info"},on:{click:function(r){return t.openInfo(e)}}},[r("i",{staticClass:"glyphicon glyphicon-info-sign"})]),t.my?[r("router-link",{staticClass:"btn btn-default",attrs:{to:e._id,append:"",title:"Edit Movie"}},[r("i",{staticClass:"glyphicon glyphicon-pencil"})]),r("a",{staticClass:"btn btn-default",attrs:{title:"Remove Movie"},on:{click:function(r){return t.remove(e)}}},[r("i",{staticClass:"glyphicon glyphicon-remove"})])]:t._e()],2)]),r("td",[t._v(t._s(t._f("date")(e.completed)))]),r("td",[t._v(t._s(e.year))]),r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.notes))])])})),0)])])])],1)},_e=[];function je(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?je(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ke={props:["uid","name"],components:{ItemList:fe,Modal:ce},computed:Ce({},Object(u["c"])("items",["my","items"]),{},Object(u["c"])("info",["movieInfo","movieProgress","movieError"])),data:function(){return{movieTitle:""}},methods:Ce({},Object(u["d"])("items",["select"]),{},Object(u["d"])("notification",["setStatus"]),{},Object(u["b"])("info",["getMovieInfo"]),{remove:function(t){this.$refs.itemList.openConfirm(t)},openInfo:function(t){this.movieTitle=t.title,this.$refs.info.open(),this.getMovieInfo(t)},closeInfo:function(){this.$refs.info.close(!1)}}),created:function(){this.select({hobby:"movies",uid:this.uid})},mounted:function(){var t=this.my?"My movies":"".concat(this.name,"'s movies");this.setStatus(t)},beforeDestroy:function(){this.setStatus("")}},$e=ke,Pe=(r("f44f"),Object(f["a"])($e,Oe,_e,!1,null,"75dd2f41",null)),xe=Pe.exports,Se={path:"/people",component:Bt,children:[{path:"",component:Wt},{path:":uid/:name/b",component:we,props:!0},{path:":uid/:name/m",component:xe,props:!0}]},De=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view")],1)},Ee=[],Re={},Me=Object(f["a"])(Re,De,Ee,!1,null,null,null),Ie=Me.exports,Ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.title.$error}},[r("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Book title"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value.trim())},function(e){return t.$v.title.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.title.$error,expression:"$v.title.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgTitle))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.author.$error}},[r("label",{staticClass:"control-label",attrs:{for:"author"}},[t._v("Author")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.author,expression:"author",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"author",type:"text",placeholder:"Author"},domProps:{value:t.author},on:{input:[function(e){e.target.composing||(t.author=e.target.value.trim())},function(e){return t.$v.author.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.author.$error,expression:"$v.author.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgAuthor))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.mode.$error}},[r("label",{staticClass:"control-label",attrs:{for:"mode"}},[t._v("Book type")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"form-control",attrs:{id:"mode"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mode=e.target.multiple?r:r[0]}}},[r("option",{attrs:{disabled:"",value:""}},[t._v("Please select one...")]),r("option",{attrs:{value:"r"}},[t._v("Regular book")]),r("option",{attrs:{value:"a"}},[t._v("Audio book")]),r("option",{attrs:{value:"r-a"}},[t._v("Both: Regular and Audio")])]),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.mode.$error,expression:"$v.mode.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgMode))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.completed.$error}},[r("date-input",{attrs:{id:"completed"},on:{input:function(e){return t.$v.completed.$touch()}},model:{value:t.completed,callback:function(e){t.completed=e},expression:"completed"}},[r("label",{staticClass:"control-label",attrs:{for:"completed"}},[t._v("Completed on ")])])],1),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),r("router-link",{staticClass:"btn btn-default",attrs:{to:"../",append:""}},[t._v("Reject")])],1)])])},Ae=[],Ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._t("default"),r("span",{staticClass:"label",class:{"label-my-success":t.value,"label-my-error":!t.value}},[t._v(" "+t._s(t._f("date")(t.value))+" ")]),t._m(0)],2)},Be=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("input",{staticClass:"form-control",attrs:{id:t.id,placeholder:"Enter date in free format..."},domProps:{value:t._f("date")(t.value,null)},on:{input:t.updateDate}})}],Te={props:["value","id"],methods:{updateDate:function(t){var e=new Date(t.target.value),r=e.toJSON()?e:null;this.$emit("input",r)}}},Fe=Te,qe=(r("e869"),Object(f["a"])(Fe,Ue,Be,!1,null,"041fa408",null)),Le=qe.exports;function Ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ze={components:{DateInput:Le},props:["id"],data:function(){return{title:"",author:"",mode:"",completed:null}},validations:{title:nt.vrules(Z),author:nt.vrules(G),mode:nt.vrules(Q),completed:nt.vrules(tt)},computed:He({},Object(u["c"])("items",["item"]),{header:function(){return this.id?"Edit book":"New book"},vmsgTitle:function(){return nt.vmsg(this.$v.title,Z)},vmsgAuthor:function(){return nt.vmsg(this.$v.author,G)},vmsgMode:function(){return nt.vmsg(this.$v.mode,Q)}}),methods:He({},Object(u["d"])("notification",["notify","setStatus"]),{},Object(u["b"])("items",["create","modify"]),{validateBeforeSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.submitForm()},submitForm:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=13;break}return t.prev=1,t.next=4,this.modify({item:He({},this.$data),id:this.id});case 4:this.$router.push("/books"),this.notify({msg:"A book has been modified :)",type:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.notify({msg:"Something went wrong when modifying a book :(",type:"danger"});case 11:t.next=23;break;case 13:return t.prev=13,t.next=16,this.create(He({},this.$data));case 16:this.$router.push("/books"),this.notify({msg:"New book has been added :)",type:"info"}),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](13),this.notify({msg:"Something went wrong when adding new book :(",type:"danger"});case 23:case"end":return t.stop()}}),t,this,[[1,8],[13,20]])})));function e(){return t.apply(this,arguments)}return e}()}),created:function(){if(this.id){var t=this.item(this.id);t?(this.title=t.title,this.author=t.author,this.mode=t.mode,this.completed=t.completed):this.$router.push("/books")}},mounted:function(){this.setStatus(this.header)},beforeDestroy:function(){this.setStatus("")}},Je=ze,Ke=Object(f["a"])(Je,Ne,Ae,!1,null,null,null),Ve=Ke.exports,Ze={path:"/books",component:Ie,children:[{path:"",component:we},{path:"new",component:Ve},{path:":id",component:Ve,props:!0}]},Ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view")],1)},Qe=[],We={},Xe=Object(f["a"])(We,Ge,Qe,!1,null,null,null),tr=Xe.exports,er=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-offset-4 col-sm-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[r("div",{staticClass:"form-group",class:{"has-error":t.$v.title.$error}},[r("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Movie title"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value.trim())},function(e){return t.$v.title.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.title.$error,expression:"$v.title.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgTitle))])]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.year.$error}},[r("label",{staticClass:"control-label",attrs:{for:"year"}},[t._v("Year")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.year,expression:"year",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"year",type:"text",placeholder:"Production year"},domProps:{value:t.year},on:{input:[function(e){e.target.composing||(t.year=e.target.value.trim())},function(e){return t.$v.year.$touch()}],blur:function(e){return t.$forceUpdate()}}}),r("p",{directives:[{name:"show",rawName:"v-show",value:t.$v.year.$error,expression:"$v.year.$error"}],staticClass:"text-danger"},[t._v(t._s(t.vmsgYear))])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"control-label",attrs:{for:"notes"}},[t._v("Notes")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.notes,expression:"notes",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"notes",type:"text",placeholder:"Notes on movie"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"control-label",attrs:{for:"imdbId"}},[t._v("IMDB ID")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.imdbId,expression:"imdbId",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"imdbId",type:"text",placeholder:"IMDB index"},domProps:{value:t.imdbId},on:{input:function(e){e.target.composing||(t.imdbId=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),r("div",{staticClass:"form-group",class:{"has-error":t.$v.completed.$error}},[r("date-input",{attrs:{id:"completed"},on:{input:function(e){return t.$v.completed.$touch()}},model:{value:t.completed,callback:function(e){t.completed=e},expression:"completed"}},[r("label",{staticClass:"control-label",attrs:{for:"completed"}},[t._v("Completed on ")])])],1),r("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),r("router-link",{staticClass:"btn btn-default",attrs:{to:"../",append:""}},[t._v("Reject")])],1)])])},rr=[];function nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var or={components:{DateInput:Le},props:["id"],data:function(){return{title:"",year:"",notes:"",imdbId:"",completed:null}},validations:{title:nt.vrules(W),year:nt.vrules(X),completed:nt.vrules(tt)},computed:ar({},Object(u["c"])("items",["item"]),{header:function(){return this.id?"Edit movie":"New movie"},vmsgTitle:function(){return nt.vmsg(this.$v.title,W)},vmsgYear:function(){return nt.vmsg(this.$v.year,X)}}),methods:ar({},Object(u["d"])("notification",["notify","setStatus"]),{},Object(u["b"])("items",["create","modify"]),{validateBeforeSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.submitForm()},submitForm:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=13;break}return t.prev=1,t.next=4,this.modify({item:ar({},this.$data),id:this.id});case 4:this.$router.push("/movies"),this.notify({msg:"A movie has been modified :)",type:"info"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.notify({msg:"Something went wrong when modifying a movie :(",type:"danger"});case 11:t.next=23;break;case 13:return t.prev=13,t.next=16,this.create(ar({},this.$data));case 16:this.$router.push("/movies"),this.notify({msg:"New movie has been added :)",type:"info"}),t.next=23;break;case 20:t.prev=20,t.t1=t["catch"](13),this.notify({msg:"Something went wrong when adding new movie :(",type:"danger"});case 23:case"end":return t.stop()}}),t,this,[[1,8],[13,20]])})));function e(){return t.apply(this,arguments)}return e}()}),created:function(){if(this.id){var t=this.item(this.id);t?(this.title=t.title,this.year=t.year,this.notes=t.notes,this.imdbId=t.imdbId,this.completed=t.completed):this.$router.push("/movies")}},mounted:function(){this.setStatus(this.header)},beforeDestroy:function(){this.setStatus("")}},sr=or,ir=Object(f["a"])(sr,er,rr,!1,null,null,null),cr=ir.exports,ur={path:"/movies",component:tr,children:[{path:"",component:xe},{path:"new",component:cr},{path:":id",component:cr,props:!0}]},lr={msg:"",type:"",status:""},pr={notify:function(t,e){var r=e.msg,n=e.type;t.msg=r,t.type=n},remove:function(t){t.msg="",t.type=""},setStatus:function(t,e){t.status=e}},mr={message:function(t){return t.msg},alertClass:function(t){return"alert-"+t.type},status:function(t){return t.status}},dr={namespaced:!0,state:lr,mutations:pr,getters:mr},fr=(r("28a5"),r("bc3a")),vr=r.n(fr),hr="jwt",br=localStorage[hr],gr=function(t){t.subscribe((function(t){switch(t.type){case"auth/setToken":localStorage[hr]=t.payload;break;case"auth/resetToken":localStorage.removeItem(hr);break}}))},yr=gr,wr={token:br},Or={setToken:function(t,e){t.token=e},resetToken:function(t){t.token=""}},_r={login:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=lt.apiUrl+"/users/login",t.next=4,vr.a.post(a,r);case 4:o=t.sent,s=o.data,n("setToken",s.token);case 7:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=lt.apiUrl+"/users/register",t.next=4,vr.a.post(a,r);case 4:o=t.sent,s=o.data,n("setToken",s.token);case 7:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),logout:function(t){var e=t.commit;e("resetToken")}},jr=function(t){var e=t.token,r=e.split(".")[1];return JSON.parse(atob(r))},Cr={isLoggedIn:function(t){if(!t.token)return!1;var e=jr(t);return e.exp>Date.now()/1e3},currentUser:function(t){if(!t.token)return{};var e=jr(t),r=e.name,n=e.email;return{name:r,email:n}}},kr={namespaced:!0,state:wr,mutations:Or,actions:_r,getters:Cr},$r=r("1d79"),Pr=function(t,e,r){return new Promise((function(n,a){var o=new FormData,s=new XMLHttpRequest;o.append("upload",e,e.name),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?n(s.response):a(s.response))},s.open("POST",t,!0),Object.keys(r).forEach((function(t){s.setRequestHeader(t,r[t])})),s.send(o)}))};function xr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Dr={hobby:"books",selector:"shared",uid:"",books:{items:[],page:1,pageCount:0,filter:""},movies:{items:[],page:1,pageCount:0,filter:""},shared:{items:[],page:1,pageCount:0,filter:""}},Er={my:function(t){return!t.uid},items:function(t){return t[t.selector].items},page:function(t){return t[t.selector].page},pageCount:function(t){return t[t.selector].pageCount},filter:function(t){return t[t.selector].filter},item:function(t){return function(e){var r=t[t.selector].items.filter((function(t){var r=t._id;return r===e}));return r.length?r[0]:null}}},Rr={clear:function(t,e){var r=t[e];r.items=[],r.page=1,r.pageCount=0,r.filter=""},select:function(t,e){var r=e.hobby,n=e.uid,a=void 0===n?"":n;t.hobby=r,t.uid=a,t.selector=a?"shared":r},setItems:function(t,e){var r=e.items,n=e.pages;t[t.selector].items=r.map((function(t){return t.completed=new Date(t.completed),t})),t[t.selector].pageCount=n},setPage:function(t,e){t[t.selector].page=e},setFilter:function(t,e){t[t.selector].filter=e}},Mr=function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r,n){var a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.uid?lt.apiUrl+"/shared/"+r.hobby:lt.apiUrl+"/"+r.hobby,o=r.uid?{}:{Authorization:"Bearer "+e.auth.token},n=r.uid?Sr({user:r.uid},n):n,t.next=5,vr.a.get(a,{headers:o,params:n});case 5:return s=t.sent,i=s.data,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Ir=function(t,e){if("_id"!==t&&""!==e)return"completed"===t?e.split(/T/)[0]:e},Nr={getItems:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,n=e.rootState,a=e.commit,t.next=3,Mr(n,r,{page:r[r.selector].page,term:r[r.selector].filter});case 3:o=t.sent,a("setItems",o);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),changePage:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.rootState,o=e.commit,t.next=3,Mr(a,n,{page:r,term:n[n.selector].filter});case 3:s=t.sent,o("setPage",r),o("setItems",s);case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),applyFilter:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.rootState,o=e.commit,t.next=3,Mr(a,n,{page:1,term:r});case 3:s=t.sent,o("setPage",1),o("setFilter",r),o("setItems",s);case 7:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),download:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,n=e.state,t.next=3,Mr(r,n,{term:n[n.selector].filter});case 3:a=t.sent,o=new Blob([JSON.stringify(a.items,Ir,1)],{type:"application/json"}),Object($r["saveAs"])(o,n.hobby+".json");case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),upload:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,a=e.state,o=e.dispatch,s="".concat(lt.apiUrl,"/").concat(a.selector,"/upload"),i={Authorization:"Bearer "+n.auth.token},t.next=5,Pr(s,r,i);case 5:return t.abrupt("return",o("applyFilter",""));case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),delete:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,a=e.state,o=e.dispatch,s="".concat(lt.apiUrl,"/").concat(a.selector,"/").concat(r),i={Authorization:"Bearer "+n.auth.token},t.next=5,vr.a.delete(s,{headers:i});case 5:return t.abrupt("return",o("changePage",1));case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),create:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,a=e.state,o=e.dispatch,s=lt.apiUrl+"/"+a.selector,i={Authorization:"Bearer "+n.auth.token},t.next=5,vr.a.post(s,r,{headers:i});case 5:return t.abrupt("return",o("changePage",1));case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),modify:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,a=e.state,o=e.dispatch,s=r.item,i=r.id,c="".concat(lt.apiUrl,"/").concat(a.selector,"/").concat(i),u={Authorization:"Bearer "+n.auth.token},t.next=6,vr.a.put(c,s,{headers:u});case 6:return t.abrupt("return",o("changePage",1));case 7:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},Ar={namespaced:!0,state:Dr,getters:Er,mutations:Rr,actions:Nr},Ur={settings:{},users:[],page:1,pageCount:0,filter:""},Br={settings:function(t){return t.settings},users:function(t){return t.users.map((function(t){var e=t.name,r=t.shareBooks,n=t.shareMovies,a=t.books,o=t.movies,s=t.total,i=t._id;return{_id:i,name:e,shareBooks:r,shareMovies:n,books:a,movies:o,total:s,tob:i+"/"+e+"/b",tom:i+"/"+e+"/m"}}))},page:function(t){return t.page},pageCount:function(t){return t.pageCount},filter:function(t){return t.filter}},Tr={updateSettings:function(t,e){t.settings=e},setUsers:function(t,e){var r=e.items,n=e.pages;t.users=r,t.pageCount=n},setPage:function(t,e){t.page=e},setFilter:function(t,e){t.filter=e}},Fr={getSettings:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.rootState,n=e.commit,a=lt.apiUrl+"/users/settings",o={Authorization:"Bearer "+r.auth.token},t.next=5,vr.a.get(a,{headers:o});case 5:s=t.sent,i=s.data,n("updateSettings",i);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),saveSettings:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,a=lt.apiUrl+"/users/settings",o={Authorization:"Bearer "+n.auth.token},t.next=5,vr.a.put(a,r,{headers:o});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),getUsers:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,n=e.commit,t.next=3,qr({page:r.page,term:r.filter});case 3:a=t.sent,n("setUsers",a);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),changePage:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.commit,t.next=3,qr({page:r,term:n.filter});case 3:o=t.sent,a("setPage",r),a("setUsers",o);case 6:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),applyFilter:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,qr({page:1,term:r});case 3:a=t.sent,n("setPage",1),n("setFilter",r),n("setUsers",a);case 7:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},qr=function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=lt.apiUrl+"/users",t.next=3,vr.a.get(r,{params:e});case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Lr={namespaced:!0,state:Ur,getters:Br,mutations:Tr,actions:Fr},Yr={movieInfo:{title:"",posterUrl:"",plot:""},movieProgress:!1,movieError:""},Hr={setMovieInfo:function(t,e){e.found?(t.movieInfo={title:e.title,posterUrl:e.poster,plot:e.plot},t.movieError=""):t.movieError="Movie not found (:"},setMovieProgress:function(t,e){t.movieProgress=e},setMovieError:function(t,e){t.movieError=e}},zr={movieInfo:function(t){return t.movieInfo},movieProgress:function(t){return t.movieProgress},movieError:function(t){return t.movieError}},Jr={getMovieInfo:function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setMovieProgress",!0),a=lt.apiUrl+(r.imdbId?"/get-movie":"/search-movie"),o=r.imdbId?{imdbId:r.imdbId}:{title:r.title},t.prev=4,t.next=7,vr.a.get(a,{params:o});case 7:s=t.sent,i=s.data,n("setMovieInfo",i),n("setMovieProgress",!1),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](4),n("setMovieProgress",!1),n("setMovieError",t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[4,13]])})));function e(e,r){return t.apply(this,arguments)}return e}()},Kr={namespaced:!0,state:Yr,mutations:Hr,getters:zr,actions:Jr};n["a"].use(u["a"]);var Vr=new u["a"].Store({modules:{notification:dr,auth:kr,items:Ar,users:Lr,info:Kr},plugins:[yr]});function Zr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}n["a"].use(N["a"]);var Qr=new N["a"]({routes:[{path:"/home",component:F},{path:"/register",component:bt},{path:"/login",component:kt},Gr({},Se),{path:"/profile",component:Mt},Gr({},Ze),Gr({},ur),{path:"*",redirect:"/home"}]});Qr.beforeEach((function(t,e,r){var n=Vr.getters["auth/isLoggedIn"];switch(t.path){case"/register":case"/login":r(!n);break;case"/books":case"/movies":case"/profile":r(n);break;default:r(!0)}}));var Wr=Qr,Xr=r("1dce"),tn=r.n(Xr),en=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invalid date";if(!t)return e;var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=t.getFullYear(),a=t.getMonth(),o=t.getDate();return"".concat(r[a]," ").concat(o,", ").concat(n)};r("924b");n["a"].config.productionTip=!1,n["a"].use(tn.a),n["a"].filter("date",en),n["a"].config.productionTip=!1,new n["a"]({router:Wr,store:Vr,render:function(t){return t(I)}}).$mount("#app")},5858:function(t,e,r){"use strict";var n=r("b98b"),a=r.n(n);a.a},"85ec":function(t,e,r){},8857:function(t,e,r){},"8c51":function(t,e,r){},"8fc6":function(t,e,r){},9953:function(t,e,r){"use strict";var n=r("8fc6"),a=r.n(n);a.a},a707:function(t,e,r){},b98b:function(t,e,r){},be87:function(t,e,r){},e869:function(t,e,r){"use strict";var n=r("f60d"),a=r.n(n);a.a},f44f:function(t,e,r){"use strict";var n=r("8c51"),a=r.n(n);a.a},f60d:function(t,e,r){}});
//# sourceMappingURL=app.770a7fbd.js.map